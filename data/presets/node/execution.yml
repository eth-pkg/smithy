$id: execution.yml
type: object
required: [client]
properties:
  client:
    type: object
    required: [name]
    properties:
      name:
        type: string
        enum:
          - besu
          - erigon
          - geth
          - nethermind
          - reth
        description: "The execution client implementation to use"
        errorMessage:
          enum: "Execution client must be one of: besu, erigon, geth, nethermind, reth"
      version:
        type: string
        default: ""
        description: "The version of the execution client to use"
        errorMessage:
          pattern: "Version must be a valid semver string"
  isExternal:
    type: boolean
    default: true
    description: "Is the consensus client external to the node, in different process"
  p2p:
    type: object
    properties:
      address:
        type: string
        default: "localhost"
        description: "Network interface to listen on"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 30303
        description: "Port number for P2P networking"
        errorMessage:
          minimum: "P2P port must be >= 1024"
          maximum: "P2P port must be <= 65535"
      dnsDiscovery:
        type: object
        properties:
          enabled:
            type: boolean
            default: true
            description: "Enable DNS discovery"
          url:
            type: string
            default: ""
            description: "URL for DNS discovery"
      discovery:
        type: object
        properties:
          enabled:
            type: boolean
            default: true
            description: "Enable discovery"
          port:
            type: number
            minimum: 1024
            maximum: 65535
            default: 30303
            description: "Port number for discovery"
          v4:
            type: object
            properties:
              enabled:
                type: boolean
                default: true
                description: "Enable discovery v4"
              port:
                type: number
                minimum: 1024
                maximum: 65535
                default: 30303
                description: "Port number for discovery v4"
              address:
                type: string
                default: "localhost"
                description: "Address to listen on for discovery v4"
                
          v5:
            type: object
            properties:
              enabled:
                type: boolean
                default: true
                description: "Enable discovery v5"
              port:
                type: number
                minimum: 1024
                maximum: 65535
                default: 30303
                description: "Port number for discovery v5"
              address:
                type: string
                default: "localhost"
                description: "Address to listen on for discovery v5"
      nat: 
        type: object
        properties:
          mode:
            type: string
            default: "any"
            description: "NAT configuration"
            enum:
              - any
              - none
              - upnp
              - pmp
              - extip
              - listen
          enabled:
            type: boolean
            default: true
            description: "Enable NAT configuration"
      identity:
        type: string
        default: ""
        description: "Identity of the node"
      maxPeers:
        type: number
        minimum: 1
        maximum: 1000
        default: 50
        description: "Maximum number of P2P peers to connect to"
        errorMessage:
          minimum: "Max peers must be at least 1"
          maximum: "Max peers should not exceed 1000"
      bootnodes:
        type: array
        items:
          type: string
        default: []
        description: "List of bootnode enode URLs for initial peer discovery"
      enrAddress:
        type: string
        default: ""
        description: "ENR (Ethereum Node Record) address to advertise"
      udpPort:
        type: number
        minimum: 1024
        maximum: 65535
        default: 30303
        description: "Port number for P2P networking"
        errorMessage:
          minimum: "P2P port must be >= 1024"
      relayNode:
        type: string
        default: ""
        description: "Relay node address for P2P networking"
      allowlist:
        type: array
        items:
          type: string
        default: ["*"]
        description: "List of allowed CORS origins for P2P networking"
      denylist:
        type: array
        items:
          type: string
        default: []
        description: "List of denied CORS origins for P2P networking"
  http:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable HTTP JSON-RPC API"
      modules:
        type: array
        minItems: 1
        default: ["eth", "net", "web3"]
        description: "List of JSON-RPC API namespaces to enable"
        items:
          type: string
      address:
        type: string
        default: "localhost"
      allowlist:
        type: array
        default: ["*"]
        description: "List of allowed CORS origins for HTTP API"
        items:
          type: string
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 8545
        description: "Port number for HTTP JSON-RPC API"
        errorMessage:
          minimum: "HTTP port must be >= 1024"
          maximum: "HTTP port must be <= 65535"
      tls:
        type: object
        properties:
          enabled:
            type: boolean
            default: false
            description: "Enable TLS for HTTP JSON-RPC API"
          certificate:
            type: object
            properties:
              cert:
                type: string
                default: ""
                description: "Path to the TLS certificate file"
              key:
                type: string
                default: ""
                description: "Path to the TLS key file"
          keystore:
            type: object
            properties:
              path:
                type: string
                default: ""
                description: "Path to the TLS key file"
              password:
                type: string
                default: ""
                description: "Password for the TLS key file"
          truststore:
            type: object
            properties:
              path:
                type: string
                default: ""
                description: "Path to the TLS truststore file"
              password:
                type: string
                default: ""
                description: "Password for the TLS truststore file"
          clientAuth:
            type: object
            properties:
              enabled:
                type: boolean
                default: false
                description: "Enable client authentication"
              caClientsEnabled:
                type: boolean
                default: false
                description: "Enable CA client authentication"
              path:
                type: string
                default: ""
                description: "Path to the TLS client authentication file"
          cipherSuites:
            type: array
            default: []
            description: "List of TLS cipher suites to enable"
            items:
              type: string
          protocol:
            type: string
            default: "TLS"
            description: "TLS protocol to use"
            enum:
              - TLS
              - TLSv1.3
  metrics:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable metrics collection and reporting"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 6060
        description: "Port number for metrics server"
        errorMessage:
          minimum: "Metrics port must be >= 1024"
          maximum: "Metrics port must be <= 65535"
      address:
        type: string
        default: "localhost"
        description: "Address to listen on for metrics server"  
  ws:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable WebSocket JSON-RPC API"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 8546
        description: "Port number for WebSocket JSON-RPC API"
        errorMessage:
          minimum: "WebSocket port must be >= 1024"
          maximum: "WebSocket port must be <= 65535"
      address:
        type: string
        default: "localhost"
        description: "Address to listen on for WebSocket JSON-RPC API"
      modules:
        type: array
        default: ["eth", "net", "web3"]
        description: "List of JSON-RPC API namespaces to enable"
        items:
          type: string
      allowlist:
        type: array
        default: ["*"]
        description: "List of allowed CORS origins for WebSocket JSON-RPC API"
        items:
          type: string
  logging:
    type: object
    properties:
      stdout:
        type: object
        properties:
          enabled:
            type: boolean
            default: false
            description: "Enable stdout logging"
          level:
            type: string
            enum:
              - off 
              - error
              - warn
              - info
              - debug
              - trace
              - all
            default: "info"
            description: "Logging level"
          format:
            type: string
            default: "text"
            description: "Logging format"
          color:
            type: boolean
            default: true
            description: "Enable colorized logging"
      file:
        type: object
        properties:
          enabled:
            type: boolean
            default: false
            description: "Enable file logging"
          directory:
            type: string
            default: "{common.dataDir}/logs"
            description: "Directory to write logs to"
          level:
            type: string
            default: "info"
            description: "Logging level"
          format:
            type: string
            default: "text"
            description: "Logging format"
          name:
            type: string
            default: "{execution.client.name}.log"
            description: "Name of the log file"
          fullPath:
            type: string
            default: "{execution.logging.file.directory}/{execution.logging.file.name}"
            description: "Full path to the log file"
  graphql:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable GraphQL HTTP service"
      address:
        type: string
        default: "localhost"
        description: "Host for GraphQL HTTP to listen on"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 8547
        description: "Port for GraphQL HTTP to listen on"
        errorMessage:
          minimum: "GraphQL port must be >= 1024"
          maximum: "GraphQL port must be <= 65535"
      allowlist:
        type: array
        items:
          type: string
        default: []
        description: "Comma separated origin domain URLs for CORS validation"
  txpool:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable transaction pool"
      blobPriceBump:
        type: number
        minimum: 0
        default: 100
        description: "Blob price bump percentage to replace an already existing transaction blob tx"
      disableLocals:
        type: boolean
        default: false
        description: "Set to true if senders of transactions sent via RPC should not have priority"
      enableSaveRestore:
        type: boolean
        default: false
        description: "Set to true to enable saving the txpool content to file on shutdown and reloading it on startup"
      layerMaxCapacity:
        type: number
        minimum: 0
        default: 25000000
        description: "Max amount of memory space, in bytes, that any layer within the transaction pool could occupy"
      limitByAccountPercentage:
        type: number
        minimum: 0
        maximum: 1
        default: 0.001
        description: "Maximum portion of the transaction pool which a single account may occupy with future transactions"
      maxFutureBySender:
        type: number
        minimum: 0
        default: 200
        description: "Max number of future pending transactions allowed for a single sender"
      maxPrioritized:
        type: number
        minimum: 0
        default: 4000
        description: "Max number of pending transactions that are prioritized and thus kept sorted"
      maxPrioritizedByType:
        type: object
        properties:
          BLOB:
            type: number
            minimum: 0
            default: 9
            description: "Max number of pending BLOB transactions that are prioritized"
      minGasPrice:
        type: string
        pattern: "^0x[0-9a-fA-F]+$"
        default: "0x3e8"
        description: "Transactions with gas price (in Wei) lower than this minimum will not be accepted into the txpool"
      minScore:
        type: number
        minimum: -128
        maximum: 127
        default: -128
        description: "Remove a pending transaction from the txpool if its score is lower than this value"
      priceBump:
        type: number
        minimum: 0
        default: 10
        description: "Price bump percentage to replace an already existing transaction"
      prioritySenders:
        type: array
        items:
          type: string
        default: []
        description: "Pending transactions sent exclusively by these addresses are prioritized and only evicted after all others"
      retentionHours:
        type: number
        minimum: 0
        default: 13
        description: "Maximum retention period of pending transactions in hours"
      saveFile:
        type: string
        default: "txpool.dump"
        description: "If saving the txpool content is enabled, define a custom path for the save file"
  beacon:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable beacon"
  pruning:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable pruning"
        
  dataDir:
    type: string
    default: "{common.dataDir}/{execution.client.name}"
    description: "Base directory for execution client data. Interpolated from common.dataDir and execution.client.name."
  gpo:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable gas price oracle"
      blocks:
        type: number
        minimum: 1
        default: 100
        description: "Number of blocks to consider for eth_gasPrice"
      maxPrice:
        type: number
        minimum: 0
        default: 500000000000
        description: "Maximum gas price for eth_gasPrice"
      ignorePrice:
        type: number
        minimum: 0
        default: 2
        description: "Gas Price below which gpo will ignore transactions"
      percentile:
        type: number
        minimum: 0
        maximum: 100
        default: 50.0
        description: "Percentile value to measure for eth_gasPrice" 