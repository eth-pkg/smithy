$id: execution.yml
type: object
required: [client]
properties:
  client:
    type: object
    required: [name]
    properties:
      name:
        type: string
        enum:
          - besu
          - erigon
          - geth
          - nethermind
          - reth
        description: "The execution client implementation to use"
        errorMessage:
          enum: "Execution client must be one of: besu, erigon, geth, nethermind, reth"
      version:
        type: string
        default: ""
        description: "The version of the execution client to use"
        errorMessage:
          pattern: "Version must be a valid semver string"
  isExternal:
    type: boolean
    default: true
    description: "Is the consensus client external to the node, in different process"
  http:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable HTTP JSON-RPC API"
      api:
        type: array
        minItems: 1
        default: ["eth", "net", "web3"]
        description: "List of JSON-RPC API namespaces to enable"
        items:
          type: string
      address:
        type: string
        default: "localhost"
      allowlist:
        type: array
        default: ["*"]
        description: "List of allowed CORS origins for HTTP API"
        items:
          type: string
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 8545
        description: "Port number for HTTP JSON-RPC API"
        errorMessage:
          minimum: "HTTP port must be >= 1024"
          maximum: "HTTP port must be <= 65535"
      tls:
        type: object
        properties:
          enabled:
            type: boolean
            default: false
            description: "Enable TLS for HTTP JSON-RPC API"
          cert:
            type: string
            default: ""
            description: "Path to the TLS certificate file"
          key:
            type: string
            default: ""
  metrics:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable metrics collection and reporting"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 6060
        description: "Port number for metrics server"
        errorMessage:
          minimum: "Metrics port must be >= 1024"
          maximum: "Metrics port must be <= 65535"
  p2p:
    type: object
    properties:
      maxPeers:
        type: number
        minimum: 1
        maximum: 1000
        default: 50
        description: "Maximum number of P2P peers to connect to"
        errorMessage:
          minimum: "Max peers must be at least 1"
          maximum: "Max peers should not exceed 1000"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 30303
        description: "Port number for P2P networking"
        errorMessage:
          minimum: "P2P port must be >= 1024"
          maximum: "P2P port must be <= 65535"
      bootnodes:
        type: array
        items:
          type: string
        default: []
        description: "List of bootnode enode URLs for initial peer discovery"
      enrAddress:
        type: string
        default: ""
        description: "ENR (Ethereum Node Record) address to advertise"
      udpPort:
        type: number
        minimum: 1024
        maximum: 65535
        default: 30303
        description: "Port number for P2P networking"
        errorMessage:
          minimum: "P2P port must be >= 1024"
      relayNode:
        type: string
        default: ""
        description: "Relay node address for P2P networking"
      allowlist:
        type: array
        items:
          type: string
        default: ["*"]
        description: "List of allowed CORS origins for P2P networking"
      denylist:
        type: array
        items:
          type: string
        default: []
        description: "List of denied CORS origins for P2P networking"
  ws:
    type: object
    properties:
      enabled:
        type: boolean
        default: false
        description: "Enable WebSocket JSON-RPC API"
      port:
        type: number
        minimum: 1024
        maximum: 65535
        default: 8546
        description: "Port number for WebSocket JSON-RPC API"
        errorMessage:
          minimum: "WebSocket port must be >= 1024"
          maximum: "WebSocket port must be <= 65535"
  dataDir:
    type: string
    default: "{common.dataDir}/{execution.client.name}"
    description: "Base directory for execution client data. Interpolated from common.dataDir and execution.client.name." 